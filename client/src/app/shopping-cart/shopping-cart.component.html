<!--
<div *ngIf='authService.user'>
    {{authService.user.username}} Cart
</div>
-->
<!-- <ul *ngIf='authService.user'>
 <li *ngFor="let item of shoppingCartService.shoppingCart">{{item.cart}} - {{item.brand}} - {{item.model}} - {{item.price}} €</li>
</ul> -->

<!--
<button (click)='clearCart()'>Clear cart</button>
<a [routerLink]="['/paymethod/user/cart']">BUY</a>

 <div *ngIf='authService.user'>
<tr *ngFor="let item of shoppingCartService.shoppingCart; let i = index">
  <th>{{i + 1}}</th>
  <th>{{item.cart}}</th>
  <th>{{item.brand}}</th>
  <th>{{item.model}}</th>
  <th>{{item.price}} €</th>
  <th>
    <button  (click)="shoppingCartService.deleteItem(i)">
      <span>Delete product</span>
    </button>
  </th>
</tr>
</div>
<div *ngIf='authService.user'>
    <button (click)='shoppingCartService.saveCart(authService.user._id)'>Save cart</button>
    <p> Total price: {{shoppingCartService.totalPrice}} €</p>
</div>

-->


<div class="container">
    <div class="row">
        <div class="col-sm-12 col-md-10 col-md-offset-1"  >
            <table class="table table-hover">
                <thead>
                    <tr>
                        <th>Product</th>
                        <th>Quantity</th>
                        <th class="text-center">Price</th>
                        <th class="text-center">Total</th>
                        <th> </th>
                    </tr>
                </thead>
                <th style="display:none">{{i + 1}}</th>
                <tbody>
                    <tr *ngFor="let item of shoppingCartService.shoppingCart; let i = index">
                        <td class="col-sm-8 col-md-6">
                        <div class="media" >
                            <a class="thumbnail pull-left"><img src="{{item.image}}" alt="" style="width: 72px; height: 72px"> </a>
                            <div class="media-body">
                                <h4 class="media-heading">{{item.brand}}</h4>
                                <h5 class="media-heading"> {{item.model}}</h5>
                                <span>{{item.type.category}}: <strong> {{item.type.subcategory}} </strong></span>
                            </div>
                        </div></td>
                        <td class="col-sm-1 col-md-1" style="text-align: center">
                        <input type="number" class="form-control" id="exampleInputNumber" value=1>
                        <!-- <th>{{i + 1}}</th> -->
                        </td>
                        <td class="col-sm-1 col-md-1 text-center"><strong>€{{item.price}}</strong></td>
                        <td class="col-sm-1 col-md-1 text-center"><strong>€{{item.price}}</strong></td>
                        <td class="col-sm-1 col-md-1">
                        <button (click)="shoppingCartService.deleteItem(i)" type="button" class="btn btn-danger">
                            <span class="glyphicon glyphicon-remove"></span>
                        </button></td>
                    </tr>

                    <tr>
                        <td>   </td>
                        <td>   </td>
                        <td>   </td>
                        <td><h3>Total</h3></td>
                        <td class="text-right"><h3><strong>€{{shoppingCartService.totalPrice}}</strong></h3></td>
                    </tr>
                    <tr>
                        <td>   </td>
                        <td>   </td>
                        <td>
                        <button [routerLink]="['/products']" type="button" class="btn btn-default">
                            <span class="glyphicon glyphicon-shopping-cart"></span> Continue Shopping
                        </button></td>
                        <td>
                            <button (click)='clearCart()' type="button" class="btn btn-danger">Remove all
                            <span class="glyphicon glyphicon-remove"></span>
                        </button>
                        </td>
                        <td>
                        <button [routerLink]="['/paymethod/user/cart']" type="button" class="btn btn-success">
                            Checkout <span class="glyphicon glyphicon-play"></span>
                        </button></td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>
